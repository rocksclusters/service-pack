<chapter id="installing" xreflabel="Installing">


<title>Installing</title>

&source_roll-installing-standard;

<section id="installing-onthefly" xreflabel="On an Existing Server">
<title>On an Existing Server</title>

<para>
The Service Pack Roll can be installed on running frontend.
</para>

<para>
The following procedure will install and configure the roll for the frontend.
</para>

<para>
For i386, download the service pack roll:
</para>

<para>
<screen>
# wget http://www.rocksclusters.org/ftp-site/pub/rocks/rocks-5.4/linux/service-pack-5.4.1-1.i386.disk1.iso
</screen>
</para>

<para>
Or for x86_64, download the service pack roll:
</para>

<para>
<screen>
# wget http://www.rocksclusters.org/ftp-site/pub/rocks/rocks-5.4/linux/service-pack-5.4.1-1.x86_64.disk1.iso
</screen>
</para>

<para>
Then, as root execute:
</para>

<para>
<screen>
# rocks add roll service-pack*iso
# rocks enable roll service-pack
# cd /export/rocks/install
# rocks create distro
# rocks run roll service-pack | bash
# init 6
</screen>
</para>

</section>


<section id="installing-nodes" xreflabel="Adding the Roll to Nodes">
<title>Adding the Roll to Nodes</title>

<para>
To add the the Service Pack Roll to the nodes of your cluster, you'll
need to reinstall the nodes.
</para>

<para>
To reinstall all your nodes, as root execute:
</para>

<para>
<screen>
# rocks run host '/boot/kickstart/cluster-kickstart-pxe'
</screen>
</para>

<warning>
<para>
It is critical that you run cluster-kickstart-pxe as it will force the
compute nodes to PXE boot.
It is important that you PXE boot the nodes for the first install,
because with a PXE boot based install, the nodes with get their initrd from
the frontend and inside the initrd is a new tracker-client that is compatible
with the new tracker-server.
After the first install, a new initrd will be on
the hard disk of the installed nodes and then it is safe to run
/boot/kickstart/cluster-kickstart.
</para>
</warning>

</section>



</chapter>

